generator client {
  provider = "prisma-client-js"
  output   = "../lib/generated/prisma"
}

datasource db {
  provider  = "postgresql"
  url       = env("DATABASE_URL")
  directUrl = env("DIRECT_URL")
}

model Product {
  id                 Int      @id @default(autoincrement())
  title              String
  description        String
  gender             String
  category           String?  @map("category")
  tags               String[]
  price              Decimal
  discountPercentage Decimal? @map("discount_percentage")
  rating             Decimal
  images             String[]
  thumbnail          String?
  review             Review[]
}

model Review {
  id            BigInt    @id @default(autoincrement())
  productId     Int       @map("product_id")
  rating        Int
  comment       String
  date          DateTime? @default(now())
  reviewerName  String?   @map("reviewer_name")
  reviewerEmail String?   @map("reviewer_email")
  product       Product?  @relation(fields: [productId], references: [id], onDelete: Cascade, onUpdate: NoAction)
}

model User {
  userId    Int    @id
  firstName String @map("first_name")
  lastName  String @map("last_name")
  email     String
  gender    String
  userName  String
  password  String
}
